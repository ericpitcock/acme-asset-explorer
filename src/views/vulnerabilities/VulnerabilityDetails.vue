<template>
  <div class="vulnerabilities">
    <ep-header v-bind="headerProps">
      <template #left>
        <h1>
          <span><router-link
              class="text--link"
              to="/vulnerabilities"
            >Vulnerabilities</router-link></span>
          <span>/</span>
          <span>Details for {{ vulnerabilityID }}</span>
        </h1>
      </template>
    </ep-header>
    <sidebar-layout sidebar-padding="2rem 0 0 3rem">
      <template #sidebar>
        sidebar
      </template>
      <template #content>
        <ep-container
          v-bind="commonContainerProps"
          content-padding="3rem 0 1rem 0"
        >
          vulnerability details
        </ep-container>
      </template>
    </sidebar-layout>
  </div>
</template>

<script setup>
  import { computed, defineProps } from 'vue'
  import { useStore } from 'vuex'
  import SidebarLayout from '@/layouts/SidebarLayout.vue'

  const { vulnerabilityID } = defineProps(['vulnerabilityID'])

  const store = useStore()
  const commonPageHeaderProps = store.state.commonProps.commonPageHeaderProps
  const headerProps = computed(() => ({ ...commonPageHeaderProps, left: { ...commonPageHeaderProps.left, slot: 'left' } }))
  const commonContainerProps = computed(() => store.state.commonProps.commonContainerProps)

  // define component SideBarLayout
  // export default {
  //   name: 'VulnerabilityDetails',
  //   components: {
  //     SidebarLayout
  //   },
  //   setup(props) {
  //     const { vulnerabilityID } = defineProps(['vulnerabilityID'])

  //     const store = useStore()
  //     const commonPageHeaderProps = store.state.commonProps.commonPageHeaderProps
  //     const commonContainerProps = computed(() => store.state.commonProps.commonContainerProps)
  //     const headerProps = computed(() => ({ ...commonPageHeaderProps, left: { ...commonPageHeaderProps.left, slot: 'left' } }))

  //     return {
  //       commonContainerProps,
  //       headerProps,
  //       vulnerabilityID
  //     }
  //   }
  // }
</script>

<style lang="scss" scoped>
  h1 {
    display: flex;
    gap: 1rem;

    a {
      // color: red;
    }
  }
</style>